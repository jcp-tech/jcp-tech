
<div id="home" class="pt-28 md:pt-36 w-full mb-10">
  <div class="grid grid-cols-1 lg:grid-cols-[60%_1fr] gap-12 lg:gap-8 items-stretch">
    
    <!-- Left Panel: Content Source for Height -->
    <div class="flex flex-col gap-8 relative z-10">
      
      <!-- Interactive Python Editor Card -->
      <div class="relative rounded-xl border border-gray-200 dark:border-white/10 bg-white dark:bg-[#1e1e1e] shadow-2xl overflow-hidden group transition-all duration-300 hover:shadow-[0_0_30px_rgba(37,244,244,0.1)]">
        
        <!-- Editor Header -->
        <div class="flex items-center justify-between px-4 py-3 border-b border-gray-200 dark:border-white/5 bg-gray-50 dark:bg-[#252526]">
             <div class="flex items-center gap-2">
                 <div class="w-3 h-3 rounded-full bg-[#ff5f56] shadow-sm"></div>
                 <div class="w-3 h-3 rounded-full bg-[#ffbd2e] shadow-sm"></div>
                 <div class="w-3 h-3 rounded-full bg-[#27c93f] shadow-sm"></div>
             </div>
             <div class="absolute left-1/2 transform -translate-x-1/2 flex items-center gap-2 opacity-70">
                <span class="material-symbols-outlined text-[16px] text-blue-400">code</span>
                <span class="text-xs text-gray-500 dark:text-gray-400 font-mono tracking-wide">developer_profile.py</span>
             </div>
             
             <!-- Run Button -->
             <button 
                id="run-code-btn"
                onclick="runCode()"
                class="flex items-center gap-1.5 px-3 py-1 rounded-md transition-all duration-300 bg-green-500/10 text-green-600 dark:text-green-400 hover:bg-green-500/20 hover:shadow-[0_0_10px_rgba(74,222,128,0.3)] cursor-pointer"
                title="Execute Python"
             >
                <span class="material-symbols-outlined text-[18px]" id="run-icon">play_arrow</span>
                <span class="text-xs font-bold font-mono uppercase tracking-wider" id="run-text">Run</span>
             </button>
        </div>
        
        <!-- Editor Body -->
        <div class="relative p-0 overflow-x-auto bg-white dark:bg-[#1e1e1e] min-h-[350px]">
            <style>
                /* Custom Syntax Highlighting using Master Color Dict */
                .code-content .c, .code-content .c1, .code-content .cm { color: {{ syntax_colors.comments }}; } /* Comment */
                .code-content .k { color: {{ syntax_colors.keywords }}; } /* Keyword */
                .code-content .kd { color: {{ syntax_colors.keywords }}; } /* Declaration */
                .code-content .kc { color: {{ syntax_colors.control_keywords }}; } /* Control Flow */
                .code-content .kn { color: {{ syntax_colors.control_keywords }}; } /* Namespace */
                .code-content .kp { color: {{ syntax_colors.keywords }}; } /* Pseudo */
                
                .code-content .nc { color: {{ syntax_colors.class_names }}; } /* Class Name */
                .code-content .nf { color: {{ syntax_colors.functions }}; } /* Function Name */
                .code-content .fm { color: {{ syntax_colors.functions }}; } /* Magic Function */
                
                .code-content .bp { color: {{ syntax_colors.variables }}; } /* Builtin/Self */
                .code-content .vm { color: {{ syntax_colors.variables }}; } /* Magic Variable */
                .code-content .n { color: {{ syntax_colors.variables }}; } /* Name/Property */
                
                .code-content .s, .code-content .s1, .code-content .s2 { color: {{ syntax_colors.strings }}; } /* String */
                .code-content .sa { color: {{ syntax_colors.fstrings_rstrings }}; } /* String Affix */
                .code-content .si { color: {{ syntax_colors.fstrings_rstrings }}; } /* String Interpolation */
                .code-content .se { color: {{ syntax_colors.string_escapes }}; } /* String Escape */
                
                .code-content .nb { color: {{ syntax_colors.builtins_functions }}; } /* Builtin Function */
                .code-content .o { color: {{ syntax_colors.operators_punctuation }}; } /* Operator */
                .code-content .p { color: {{ syntax_colors.operators_punctuation }}; } /* Punctuation */
                .code-content .pb { color: {{ syntax_colors.function_brackets }}; } /* Brackets () [] {} */
                
                .code-content .nd { color: {{ syntax_colors.decorators }}; } /* Decorator */
                .code-content .nn { color: {{ syntax_colors.module_names }}; } /* Module Name */
                .code-content .m, .code-content .mi, .code-content .mf { color: {{ syntax_colors.numbers }}; } /* Number */
                .code-content .err { color: {{ syntax_colors.errors }}; } /* Error */

                /* Dark Mode Overrides - Using the same colors as requested */
                .dark .code-content .c, .dark .code-content .c1, .dark .code-content .cm { color: {{ syntax_colors.comments }}; }
                .dark .code-content .k { color: {{ syntax_colors.keywords }}; }
                .dark .code-content .kd { color: {{ syntax_colors.keywords }}; }
                .dark .code-content .kc { color: {{ syntax_colors.control_keywords }}; }
                .dark .code-content .kn { color: {{ syntax_colors.control_keywords }}; }
                .dark .code-content .kp { color: {{ syntax_colors.keywords }}; }
                .dark .code-content .nc { color: {{ syntax_colors.class_names }}; }
                .dark .code-content .nf { color: {{ syntax_colors.functions }}; }
                .dark .code-content .fm { color: {{ syntax_colors.functions }}; }
                .dark .code-content .bp { color: {{ syntax_colors.variables }}; }
                .dark .code-content .vm { color: {{ syntax_colors.variables }}; }
                .dark .code-content .n { color: {{ syntax_colors.variables }}; }
                .dark .code-content .s, .dark .code-content .s1, .dark .code-content .s2 { color: {{ syntax_colors.strings }}; }
                .dark .code-content .sa { color: {{ syntax_colors.fstrings_rstrings }}; }
                .dark .code-content .si { color: {{ syntax_colors.fstrings_rstrings }}; }
                .dark .code-content .se { color: {{ syntax_colors.string_escapes }}; }
                .dark .code-content .nb { color: {{ syntax_colors.builtins_functions }}; }
                .dark .code-content .o { color: {{ syntax_colors.operators_punctuation }}; }
                .dark .code-content .p { color: {{ syntax_colors.operators_punctuation }}; }
                .dark .code-content .pb { color: {{ syntax_colors.function_brackets }}; }
                .dark .code-content .nd { color: {{ syntax_colors.decorators }}; }
                .dark .code-content .nn { color: {{ syntax_colors.module_names }}; }
                .dark .code-content .m, .dark .code-content .mi, .dark .code-content .mf { color: {{ syntax_colors.numbers }}; }
                .dark .code-content .err { color: {{ syntax_colors.errors }}; }
            </style>
            <div class="flex font-mono text-sm sm:text-base leading-relaxed">
                <!-- Line Numbers -->
                <div class="flex flex-col items-end px-3 py-6 bg-gray-50 dark:bg-[#1e1e1e] text-gray-300 dark:text-[#858585] select-none border-r border-gray-100 dark:border-white/5 min-w-[3rem]">
                    {% for n in range(1, line_count + 1) %}
                        <div class="h-[24px]">{{ n }}</div>
                    {% endfor %}
                </div>
                
                <!-- Code Content -->
                <pre class="flex-1 p-6 text-gray-800 dark:text-[#d4d4d4] code-content" style="line-height: 24px;"><code>{{ code_base | safe }}</code></pre>
            </div>
        </div>

        <!-- Terminal Popup Overlay -->
        <div id="terminal-overlay" class="hidden absolute inset-0 bg-black/95 backdrop-blur-sm z-20 flex flex-col p-4 animate-in fade-in slide-in-from-bottom-4 duration-300 rounded-xl">
            <div class="flex justify-between items-center mb-4 border-b border-white/10 pb-2">
                <span class="text-xs font-mono text-gray-400">TERMINAL Output</span>
                <button onclick="closeTerminal()" class="text-gray-400 hover:text-white transition-colors">
                    <span class="material-symbols-outlined text-[18px]">close</span>
                </button>
            </div>
            <div id="terminal-content" class="font-mono text-sm sm:text-base leading-relaxed overflow-y-auto custom-scrollbar text-green-400 whitespace-pre-wrap"></div>
            <!-- Hidden data for JS to read -->
            <script id="terminal-data" type="text/plain">{{ terminal_output | safe }}</script>
        </div>
      </div>

      <!-- Social Pills -->
      <div class="flex flex-wrap gap-4">
          <a 
            href="https://www.linkedin.com/in/jcp-tech/" 
            target="_blank" 
            rel="noopener noreferrer"
            class="flex items-center gap-2 px-5 py-2.5 rounded-full border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300 group shadow-sm"
          >
              <svg class="w-5 h-5 text-[#0077b5]" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
              <span class="text-sm font-medium text-gray-700 dark:text-gray-200 group-hover:text-black dark:group-hover:text-white">LinkedIn</span>
          </a>

          <a 
            href="https://github.com/jcp-tech" 
            target="_blank" 
            rel="noopener noreferrer"
            class="flex items-center gap-2 px-5 py-2.5 rounded-full border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300 group shadow-sm"
          >
               <svg class="w-5 h-5 text-gray-800 dark:text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"/></svg>
               <span class="text-sm font-medium text-gray-700 dark:text-gray-200 group-hover:text-black dark:group-hover:text-white">GitHub</span>
          </a>

          <a 
            href="mailto:jonathanchacko1805+git@gmail.com" 
            class="flex items-center gap-2 px-5 py-2.5 rounded-full border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300 group shadow-sm"
          >
               <svg class="w-5 h-5 text-[#EA4335]" fill="currentColor" viewBox="0 0 24 24"><path d="M24 5.457v13.909c0 .904-.732 1.636-1.636 1.636h-3.819V11.73L12 16.64l-6.545-4.91v9.273H1.636A1.636 1.636 0 0 1 0 19.366V5.457c0-2.023 2.309-3.178 3.927-1.964L5.455 4.64 12 9.548l6.545-4.91 1.528-1.145C21.69 2.28 24 3.434 24 5.457z"/></svg>
               <span class="text-sm font-medium text-gray-700 dark:text-gray-200 group-hover:text-black dark:group-hover:text-white">Gmail</span>
          </a>

          <a 
            href="Jonathan Chacko - Resume.pdf" 
            target="_blank" 
            rel="noopener noreferrer"
            class="flex items-center gap-2 px-5 py-2.5 rounded-full border border-gray-200 dark:border-white/10 bg-white dark:bg-white/5 hover:bg-gray-50 dark:hover:bg-white/10 transition-all duration-300 group shadow-sm"
          >
               <span class="material-symbols-outlined text-[20px] text-gray-700 dark:text-white">description</span>
               <span class="text-sm font-medium text-gray-700 dark:text-gray-200 group-hover:text-black dark:group-hover:text-white">Resume</span>
          </a>
      </div>
    </div>

    <!-- Right Panel: Dashboard Widgets -->
    <div class="relative w-full lg:h-full">
         <div class="lg:absolute lg:inset-0 lg:overflow-y-auto pr-2 custom-scrollbar pb-1">
            {% include "components/dashboard_widgets.html" ignore missing %}
         </div>
    </div>
  </div>
</div>
